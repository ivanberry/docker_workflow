const Service = require("egg").Service;

class NewsService extends Service {
	async list(page = 1) {
		const { serverUrl, pageSize } = this.config.news;

		const idList = [
			18369337,
			18367381,
			18369384,
			18369515,
			18364518,
			18363870,
			18366868,
			18365433,
			18369330,
			18361020,
			18364137,
			18369485,
			18365851,
			18367680,
			18364218,
			18367399,
			18361068,
			18369110,
			18360779,
			18360071,
			18363374,
			18361665,
			18357093,
			18349806,
			18360766,
			18365131,
			18366011,
			18363668,
			18365532,
			18363750,
			18364866,
			18363760,
			18367378,
			18369318,
			18360627,
			18362355,
			18358902,
			18368622,
			18361614,
			18364148,
			18363953,
			18369511,
			18369415,
			18364825,
			18366767,
			18363538,
			18362249,
			18367717,
			18361726,
			18361044,
			18363522,
			18360892,
			18369172,
			18364269,
			18360304,
			18363974,
			18352769,
			18361018,
			18356858,
			18365159,
			18369165,
			18354503,
			18366318,
			18359034,
			18360792,
			18369025,
			18351891,
			18367915,
			18359957,
			18361224,
			18356659,
			18362812,
			18366385,
			18365483,
			18369092,
			18355589,
			18349887,
			18349421,
			18365981,
			18358268,
			18361071,
			18355568,
			18356196,
			18355010,
			18355546,
			18367746,
			18366987,
			18357550,
			18367191,
			18362905,
			18361631,
			18356821,
			18349396,
			18356645,
			18353047,
			18365497,
			18366592,
			18353008,
			18362671,
			18366063,
			18362951,
			18367228,
			18366321,
			18365645,
			18365637,
			18364774,
			18369059,
			18359839,
			18356179,
			18353804,
			18355345,
			18362810,
			18369270,
			18351654,
			18368076,
			18368055,
			18351059,
			18360445,
			18353123,
			18342042,
			18362493,
			18359620,
			18363024,
			18344033,
			18363427,
			18358822,
			18359603,
			18351312,
			18351733,
			18365594,
			18347470,
			18359512,
			18351685,
			18358581,
			18357643,
			18345243,
			18364249,
			18356685,
			18368853,
			18356032,
			18349936,
			18353167,
			18347841,
			18359374,
			18342744,
			18355575,
			18352575,
			18364127,
			18351131,
			18362834,
			18353425,
			18367640,
			18355996,
			18352275,
			18355547,
			18355680,
			18357190,
			18368599,
			18351290,
			18368585,
			18344636,
			18367780,
			18354934,
			18357632,
			18353005,
			18368526,
			18349847,
			18352529,
			18352490,
			18359123,
			18348167,
			18350620,
			18349177,
			18362152,
			18354839,
			18351109,
			18349516,
			18357229,
			18349199,
			18360464,
			18358126,
			18349942,
			18360372,
			18343512,
			18346553,
			18346943,
			18347708,
			18347360,
			18363637,
			18354066,
			18362663,
			18352754,
			18368199,
			18360758,
			18347003,
			18346463,
			18349244,
			18343652,
			18363180,
			18361398,
			18342996,
			18365193,
			18352577,
			18350471,
			18344719,
			18348289,
			18364872,
			18358272,
			18353874,
			18344457,
			18351543,
			18366446,
			18355421,
			18344979,
			18353816,
			18363561,
			18365354,
			18351899,
			18351674,
			18361014,
			18342560,
			18367861,
			18342415,
			18343941,
			18347138,
			18343515,
			18345821,
			18345859,
			18361299,
			18364546,
			18357101,
			18358201,
			18345993,
			18341993,
			18365499,
			18359979,
			18365304,
			18356199,
			18344027,
			18346922,
			18353941,
			18367667,
			18347440,
			18358042,
			18346961,
			18364576,
			18350829,
			18342070,
			18356541,
			18358757,
			18368284,
			18360652,
			18367032,
			18343913,
			18366892,
			18345861,
			18358314,
			18351302,
			18348135,
			18342691,
			18356783,
			18346219,
			18348353,
			18358977,
			18364608,
			18363070,
			18354598,
			18349863,
			18347975,
			18357982,
			18359066,
			18347029,
			18347386,
			18360006,
			18356970,
			18363474,
			18345830,
			18364077,
			18346198,
			18355470,
			18354025,
			18349013,
			18343860,
			18357525,
			18361574,
			18363132,
			18352669,
			18357290,
			18363691,
			18349991,
			18343286,
			18362873,
			18357916,
			18345358,
			18349364,
			18356137,
			18350594,
			18359885,
			18364368,
			18355976,
			18351640,
			18359706,
			18367038,
			18351066,
			18359491,
			18363649,
			18363597,
			18352171,
			18348265,
			18359805,
			18358824,
			18360243,
			18350077,
			18366541,
			18354454,
			18362772,
			18350198,
			18358785,
			18362659,
			18341900,
			18355061,
			18358323,
			18350900,
			18364672,
			18361129,
			18357487,
			18353697,
			18356141,
			18360673,
			18355463,
			18346234,
			18355403,
			18344991,
			18349659,
			18342496,
			18356944,
			18351617,
			18348327,
			18343430,
			18349928,
			18361344,
			18341881,
			18347223,
			18351484,
			18345575,
			18358958,
			18354505,
			18345505,
			18344932,
			18345063,
			18354280,
			18354215,
			18347284,
			18357409,
			18356811,
			18363784,
			18362056,
			18349179,
			18344324,
			18343436,
			18343443,
			18348498,
			18352397,
			18354063,
			18354061,
			18358644,
			18349947,
			18357908,
			18352506,
			18351444,
			18351568,
			18361152,
			18357174,
			18352515,
			18343898,
			18355504,
			18355151,
			18347211,
			18343555,
			18349777,
			18343358,
			18354609,
			18354460,
			18351162,
			18348266,
			18341995,
			18346862,
			18350115,
			18349691,
			18349564,
			18341806,
			18343474,
			18349350,
			18343368,
			18348698,
			18347424,
			18342696,
			18348116,
			18348077,
			18342391,
			18351494,
			18343900,
			18345685,
			18343226,
			18350575,
			18342912,
			18350469,
			18343649,
			18342727,
			18350157,
			18344413,
			18343920,
			18348914,
			18343669,
			18354504,
			18356809,
			18346764,
			18346551,
			18342510,
			18342425,
			18342366,
			18343274,
			18342918,
			18342763,
			18342593,
			18349834,
			18346793,
			18363985,
			18351737,
			18343200,
			18356279,
			18353249,
			18345249,
			18364464,
			18351406,
			18343838,
			18353184,
			18353231,
			18343737,
			18362303,
			18363754,
			18357523,
			18356041,
			18354980,
			18356295,
			18348736,
			18355481
		];

		const newsList = await Promise.all(
			Object.keys(idList).map(key => {
				const url = `${serverUrl}/item/${idList[key]}.json`;
				return this.ctx.curl(url, { dataType: "json" });
			})
		);

		return newsList.map(res => res.data);
	}
}

module.exports = NewsService;
